# 🚀 项目启动指南

## 📋 启动前准备

### 1. 检查依赖是否已安装

首先确认 `node_modules` 目录是否存在，如果不存在或不确定，请运行：

```bash
npm install
```

这会安装所有依赖包，包括 `mysql2`。

### 2. 确保 MySQL 数据库已启动

- 确保 MySQL 服务正在运行
- 确保数据库 `seas_ware` 已创建
- 确保 `post_searchs` 表已创建并包含以下字段：
  - `search_num` - 货运单号
  - `states` - 状态
  - `Ship_date` - 发货日期

### 3. 检查数据库配置

数据库连接配置在 `lib/db.ts` 文件中，默认配置为：

```typescript
{
  host: 'localhost',
  port: 3306,
  user: 'root',
  password: '123456',
  database: 'seas_ware',
  charset: 'utf8mb4',
}
```

如果您的数据库配置不同，请修改 `lib/db.ts` 文件。

## 🎯 启动项目

### 方式 1：开发模式（推荐）

在项目根目录运行：

```bash
npm run dev
```

或者：

```bash
npm dev
```

启动成功后，您会看到类似以下输出：

```
  ▲ Next.js 16.0.10
  - Local:        http://localhost:3000
  - Ready in 2.3s
```

### 方式 2：生产模式

如果需要构建并启动生产版本：

```bash
# 1. 构建项目
npm run build

# 2. 启动生产服务器
npm start
```

## 🌐 访问项目

启动成功后，在浏览器中访问：

- **本地地址**: http://localhost:3000
- **网络地址**: http://127.0.0.1:3000

## ✅ 验证项目是否正常运行

### 1. 检查前端页面

访问 http://localhost:3000，应该能看到项目首页。

### 2. 检查数据库连接

如果页面显示错误，请检查：

1. MySQL 服务是否启动
2. 数据库 `seas_ware` 是否存在
3. 表 `post_searchs` 是否存在
4. 数据库用户名和密码是否正确

## 🔧 常见问题

### 问题 1：端口被占用

如果 3000 端口被占用，Next.js 会自动使用下一个可用端口（如 3001）。

### 问题 2：数据库连接失败

**错误信息**: `数据库连接错误` 或 `Cannot connect to database`

**解决方案**:
1. 检查 MySQL 服务是否启动
2. 检查 `lib/db.ts` 中的数据库配置是否正确
3. 检查数据库 `seas_ware` 是否存在
4. 检查防火墙设置

### 问题 3：找不到模块 'mysql2'

**错误信息**: `Cannot find module 'mysql2/promise'`

**解决方案**:
```bash
npm install mysql2
```

### 问题 4：表不存在

**错误信息**: `Table 'seas_ware.post_searchs' doesn't exist`

**解决方案**:
需要创建 `post_searchs` 表，SQL 示例：

```sql
CREATE TABLE IF NOT EXISTS `post_searchs` (
  `id` INT AUTO_INCREMENT PRIMARY KEY,
  `search_num` VARCHAR(255) NOT NULL COMMENT '货运单号',
  `states` VARCHAR(50) DEFAULT NULL COMMENT '状态',
  `Ship_date` DATE DEFAULT NULL COMMENT '发货日期',
  PRIMARY KEY (`id`),
  INDEX `idx_search_num` (`search_num`),
  INDEX `idx_states` (`states`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='物流查询表';
```

## 📝 快速启动命令总结

```bash
# 1. 安装依赖（如果还没安装）
npm install

# 2. 启动开发服务器
npm run dev

# 3. 在浏览器中访问
# http://localhost:3000
```

## 🎉 启动成功标志

当您看到以下内容时，说明项目已成功启动：

1. ✅ 终端显示 `Ready` 和本地地址
2. ✅ 浏览器能正常访问 http://localhost:3000
3. ✅ 页面能正常显示，没有错误
4. ✅ 数据能正常从数据库加载并显示

祝您使用愉快！🎊

