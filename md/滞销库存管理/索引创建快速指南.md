# 索引创建快速指南

## ✅ 直接执行的 SQL（复制这个）

**只需要执行以下 3 条 CREATE INDEX 语句**：

```sql
-- 1. GIN 索引（最重要！）
CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_inventory_label_gin 
ON inventory USING GIN(label);

-- 2. 排序索引
CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_inventory_updated_at_id 
ON inventory(updated_at DESC, id DESC);

-- 3. SKU 索引
CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_inventory_ware_sku 
ON inventory(ware_sku);
```

## ⚠️ 重要提示

### 不要执行文档中的 SELECT 语句

文档中的 `SELECT COUNT(*) FROM inventory WHERE ...` 等语句只是**示例说明**，用来解释性能问题，**不需要执行**。

**只需要执行 CREATE INDEX 语句！**

## 📝 执行步骤

1. **打开数据库管理工具**（pgAdmin、DBeaver 等）
2. **连接到数据库** `seas_ware`
3. **新建查询窗口**
4. **复制上面的 3 条 CREATE INDEX 语句**
5. **执行查询**

## ⏱️ 执行时间

- **GIN 索引**：可能需要几分钟到几十分钟（取决于数据量）
- **其他索引**：通常几秒到几分钟

## ✅ 验证创建成功

索引创建完成后，执行以下查询验证：

```sql
SELECT indexname, indexdef 
FROM pg_indexes 
WHERE tablename = 'inventory' 
  AND indexname LIKE 'idx_inventory%'
ORDER BY indexname;
```

应该看到 3 个索引：
- `idx_inventory_label_gin`
- `idx_inventory_updated_at_id`
- `idx_inventory_ware_sku`

## 🚀 执行后效果

索引创建完成后，页面加载速度会立即提升：
- **优化前**：13-35 秒
- **优化后**：0.3-1.5 秒
- **提升**：20-100 倍

